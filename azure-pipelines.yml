trigger:
- none

pool: 
  name: Default
  demands:
    - agent.name -equals TC01 

parameters:
- name: VM_Environment_Name
  displayName: 'VM Environment Name'
  type: string
  values:
  - DEV1
  - DEV2
  - DEV3
  default: DEV1

- name: Teamcenter_Install_Scenario
  displayName: 'Teamcenter Install Scenario'
  type: string
  values:
  - Install_Fnd140
  - Install_Fnd141
  default: Install_Fnd140

variables:
  dcusername: 'dcadmin'
  dcpassword: 'dcadmin'
  DC_QUICK_DEPLOY_PATH: 'D:\\DCQuickDeploy'
  DC_URL: 'http://192.168.80.54:8080//deploymentcenter'
  DC_DEPLOY_SCRIPT_DIR_NAME: 'deploy_scripts'
  TARGET_VM_DEPLOY_SCRIPTS_DIR: '/opt/app/siemens/deploy_$(VM_Environment_Name)'
  TARGET_VM_MAPPED_DRIVE_BACK_TO_DC_REPO: '/opt/app/siemens/dc_14.1/repository/deploy_scripts'
  TARGET_VM_SOFTWARE_LOCATION: '/usr/Siemens/Teamcenter14/teamcenter_root'

stages:
- stage: Execution
  jobs:
  - job: Execute
    pool:
      name: Default
    steps:
    - task: PowerShell@2
      inputs:
        targetType: 'inline'
        script: |
          ssh infodba@192.168.80.54
          cd /opt/app/siemens
          rm -rf test
          EOF
      displayName: 'Test'
